var L=Object.defineProperty;var P=(e,a,t)=>a in e?L(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var b=(e,a,t)=>(P(e,typeof a!="symbol"?a+"":a,t),t);import{E as g,V as p,e as f}from"./EnderecoService-f6496184.js";import{a as B,A as N,L as U,H as F}from"./Loader-c96cb4f4.js";import{d as $,_ as M,r as d,o as h,c as V,a as o,w as s,F as G,b as O,h as j,i as w,t as D,e as c}from"./index-78299d8c.js";class T{get(a){return B.get(`https://viacep.com.br/ws/${a}/json`)}}const z=new T;class H{constructor(){b(this,"estados");this.estados=[{estado:"Acre",sigla:"AC"},{estado:"Alagoas",sigla:"AL"},{estado:"Amapá",sigla:"AP"},{estado:"Amazonas",sigla:"AM"},{estado:"Bahia",sigla:"BA"},{estado:"Ceará",sigla:"CE"},{estado:"Espírito Santo",sigla:"ES"},{estado:"Goiás",sigla:"GO"},{estado:"Maranhão",sigla:"MA"},{estado:"Mato Grosso",sigla:"MT"},{estado:"Mato Grosso do Sul",sigla:"MS"},{estado:"Minas Gerais ",sigla:"MG"},{estado:"Pará",sigla:"PA"},{estado:"Paraíba",sigla:"PB"},{estado:"Paraná",sigla:"PR"},{estado:"Pernambuco",sigla:"PE"},{estado:"Piauí",sigla:"PI"},{estado:"Rio de Janeiro",sigla:"RJ"},{estado:"Rio Grande do Norte",sigla:"RN"},{estado:"Rio Grande do Sul",sigla:"RS"},{estado:"Rondônia",sigla:"RO"},{estado:"Roraima",sigla:"RR"},{estado:"Santa Catarina",sigla:"SC"},{estado:"São Paulo",sigla:"SP"},{estado:"Sergipe",sigla:"SE"},{estado:"Tocantins",sigla:"TO"},{estado:"Distrito Federal",sigla:"DF"}]}getEstados(){return this.estados}}const J=$({name:"EnderecoForm",components:{Alert:N,Loader:U},data(){return{id:0,endereco:new g,formValid:!1,errorResponse:new F,validaEndereco:new p(new g,!1),estados:new H,type:"",msg:"",time:0,callBack:"",showLoader:!1}},created(){this.id=this.$route.params.id||0,this.id&&this.findEndereco()},computed:{isDisabled(){const e=this.endereco;let a=e.cep!==""||e.uf!==""||e.cidade!==""||e.logradouro!==""?!0:e.nome!=="";return this.id||a==!0?(this.validaEndereco=new p(this.endereco,!0),!this.validaEndereco.valid):(this.validaEndereco=new p(this.endereco,!1),!0)},listEstados(){return this.estados.getEstados()}},methods:{findEndereco(){this.showLoader=!0,f.show(this.id).then(e=>{e.data.status==="success"&&(this.endereco=e.data.data),this.showLoader=!1}).catch(e=>{this.setAlert("Não encontramos o endereço Solicitado","error",!0)})},setEndereco(){const e=this.endereco,a=this.endereco,t=this.endereco.id;this.endereco=new g,delete e.id,this.showLoader=!0,t?f.edit(t,e).then(l=>{this.setAlert(l.data.message||"Ocorreram erros durante o processo",l.data.status||"error",!0)}).catch(l=>{let u=this.errorResponse.handleResponse(l);this.setAlert(this.errorResponse.displayErrors(u)||"Ocorreram erros durante o processo","error",!1),this.endereco=a}):f.insert(e).then(l=>{this.setAlert(l.data.message||"Ocorreram erros durante o processo",l.data.status||"error",!0)}).catch(l=>{let u=this.errorResponse.handleResponse(l);this.setAlert(this.errorResponse.displayErrors(u)||"Ocorreram erros durante o processo","error",!1),this.endereco=a})},async getAddress(e){await z.get(e).then(a=>{console.log(a.data),a.data.cep!==void 0&&(this.endereco.cep=a.data.cep,this.endereco.logradouro=a.data.logradouro,this.endereco.bairro=a.data.bairro,this.endereco.uf=a.data.uf,this.endereco.cidade=a.data.localidade)}).catch(a=>{let t=this.errorResponse.handleResponse(a);this.setAlert(this.errorResponse.displayErrors(t)||"Ocorreram erros durante o processo","error",!1)})},somenteNumero(){this.endereco.telefone=this.endereco.telefone.replace(/\D/g,"")},setAlert(e,a,t,l){window.scrollTo({top:0,behavior:"auto"}),this.msg=e,this.type=a,this.time=l||3e3,this.callBack=t?"/enderecos":"",this.showLoader=!1},clearAlert(){this.msg="",this.type="",this.time=0,this.callBack=""}}}),I={key:1,class:"alert"};function _(e,a,t,l,u,q){const A=d("Loader"),R=d("Alert"),y=d("v-card-title"),i=d("v-text-field"),n=d("v-col"),C=d("v-autocomplete"),m=d("v-row"),S=d("v-divider"),v=d("v-btn"),E=d("v-container"),k=d("v-card");return h(),V(G,null,[o(A,{showLoader:e.showLoader},null,8,["showLoader"]),o(R,{msg:e.msg,type:e.type,time:e.time,callback:e.callBack,onClearAlert:e.clearAlert},null,8,["msg","type","time","callback","onClearAlert"]),o(E,{class:"flex-wrap d-flex fullpage"},{default:s(()=>[o(k,{class:"dflex align-center flex-column w-100","rounded-lg":""},{default:s(()=>[o(y,{class:"flex-row page-title","font-size":"16"},{default:s(()=>a[12]||(a[12]=[O(" Enderecos ",-1)])),_:1,__:[12]}),o(E,null,{default:s(()=>[o(m,{justify:"space-around",class:"mb-3","no-gutters":""},{default:s(()=>[o(n,{class:"mr-3",cols:"12",md:"5",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.cep,"onUpdate:modelValue":a[0]||(a[0]=r=>e.endereco.cep=r),label:"Cep",onFocusout:a[1]||(a[1]=r=>e.getAddress(e.endereco.cep)),maxlength:"10"},null,8,["modelValue"])]),_:1}),o(n,{cols:"12",md:"5",sm:"12"},{default:s(()=>[e.listEstados?(h(),j(C,{key:0,modelValue:e.endereco.uf,"onUpdate:modelValue":a[2]||(a[2]=r=>e.endereco.uf=r),label:"Estado *","item-title":"estado","item-value":"sigla",items:e.listEstados,filled:"",underlined:""},null,8,["modelValue","items"])):w("",!0),e.validaEndereco.msgUF?(h(),V("span",I,D(e.validaEndereco.msgUF),1)):w("",!0)]),_:1})]),_:1}),o(m,{justify:"space-around",class:"mb-3","no-gutters":""},{default:s(()=>[o(n,{class:"mr-3",cols:"12",md:"5",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.cidade,"onUpdate:modelValue":a[3]||(a[3]=r=>e.endereco.cidade=r),label:"Cidade *",error:!!e.validaEndereco.msgCidade,"error-messages":e.validaEndereco.msgCidade,maxlength:"50"},null,8,["modelValue","error","error-messages"])]),_:1}),o(n,{class:"mr-3",cols:"12",md:"5",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.bairro,"onUpdate:modelValue":a[4]||(a[4]=r=>e.endereco.bairro=r),label:"Bairro",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{justify:"space-around",class:"mb-3","no-gutters":""},{default:s(()=>[o(n,{cols:"12",md:"11",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.logradouro,"onUpdate:modelValue":a[5]||(a[5]=r=>e.endereco.logradouro=r),label:"Logradouro *",error:!!e.validaEndereco.msgLogradouro,"error-messages":e.validaEndereco.msgLogradouro,maxlength:"100"},null,8,["modelValue","error","error-messages"])]),_:1}),o(n,{cols:"12",md:"11",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.numero,"onUpdate:modelValue":a[6]||(a[6]=r=>e.endereco.numero=r),label:"Numero ",maxlength:"15"},null,8,["modelValue"])]),_:1})]),_:1}),o(S,{class:"mb-5 mt-5"}),o(m,{justify:"space-around",class:"mb-3","no-gutters":""},{default:s(()=>[o(n,{cols:"12",md:"5",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.nome,"onUpdate:modelValue":a[7]||(a[7]=r=>e.endereco.nome=r),label:"Nome *",error:!!e.validaEndereco.msgNome,"error-messages":e.validaEndereco.msgNome,maxlength:"100"},null,8,["modelValue","error","error-messages"])]),_:1}),o(n,{cols:"12",md:"5",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.telefone,"onUpdate:modelValue":a[8]||(a[8]=r=>e.endereco.telefone=r),label:"Telefone ",maxlength:"100"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{justify:"space-around",class:"mb-3","no-gutters":""},{default:s(()=>[o(n,{cols:"12",md:"11",sm:"12"},{default:s(()=>[o(i,{variant:"underlined",modelValue:e.endereco.email,"onUpdate:modelValue":a[9]||(a[9]=r=>e.endereco.email=r),label:"E-mail *",error:!!e.validaEndereco.msgEmail,"error-messages":e.validaEndereco.msgEmail,maxlength:"150"},null,8,["modelValue","error","error-messages"])]),_:1})]),_:1}),o(m,{justify:"center","no-gutters":"",class:"mt-6"},{default:s(()=>[o(v,{color:"#cecece",class:"mr-2",onClick:a[10]||(a[10]=r=>e.$router.push("/clientes"))},{default:s(()=>a[13]||(a[13]=[c("span",{class:"material-icons md-16 black"},"cancel",-1),c("b",null,"Cancelar",-1)])),_:1,__:[13]}),o(v,{color:"#ffbd1e",onClick:a[11]||(a[11]=r=>e.setEndereco()),disabled:e.isDisabled},{default:s(()=>a[14]||(a[14]=[c("span",{class:"material-icons md-16 black"},"check_circle",-1),c("b",null,"Confirmar",-1)])),_:1,__:[14]},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Y=M(J,[["render",_]]);export{Y as default};
